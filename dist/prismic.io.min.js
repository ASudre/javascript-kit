!function(t,e){"use strict";function n(t,e,n,r,i,s){this.name=t,this.fields=e,this.form_method=n,this.rel=r,this.enctype=i,this.action=s}function r(t,e,n){this.api=t,this.form=e,this.data=n||{};for(var r in e.fields)e.fields[r]["default"]&&(this.data[r]=[e.fields[r]["default"]])}function i(t){return this.fragments&&this.fragments[t]?Array.isArray(this.fragments[t])?this.fragments[t]:[this.fragments[t]]:[]}function s(t,e,n,r,i,s,a,o){this.page=t,this.results_per_page=e,this.results_size=n,this.total_results_size=r,this.total_pages=i,this.next_page=s,this.prev_page=a,this.results=o}function a(t,e,n,r){this.id=t,this.slug=e,this.type=n,this.tags=r}function o(t,e,n,r,i,s,a){this.id=t,this.type=e,this.href=n,this.tags=r,this.slug=i?i[0]:"-",this.slugs=i,this.linkedDocuments=s,this.fragments=a}function u(t,e,n,r,i){this.ref=t,this.label=e,this.isMaster=n,this.scheduledAt=r,this.id=i}function l(){this.cache={},this.states={}}var c=function(t,e,n,r,i){var s=new c.fn.init(t,n,r,i);return e&&s.get(e),s},f=function(){return"undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?function(t,e){var n=new XMLHttpRequest,r=function(){e(null,JSON.parse(n.responseText),n)},i=function(){var r=n.status;e(new Error("Unexpected status code ["+r+"] on URL "+t),null,n)};n.onreadystatechange=function(){4===n.readyState&&(n.status&&200==n.status?r():i())},n.open("GET",t,!0),n.setRequestHeader("Accept","application/json"),n.send()}:void 0},h=function(){return"undefined"!=typeof XDomainRequest?function(t,e){var n=new XDomainRequest,r=function(){e(null,JSON.parse(n.responseText),n)},i=function(t){e(new Error(t),null,n)};n.onload=function(){r(n)},n.onerror=function(){i("Unexpected status code on URL "+t)},n.open("GET",t,!0),n.ontimeout=function(){i("Request timeout")},n.onprogress=function(){},n.send()}:void 0},p=function(){if("function"==typeof require&&require("http")){var t={},n=require("http"),r=require("https"),i=require("url"),s=(require("querystring"),require("../package.json"));return function(a,o){if(t[a])o(null,t[a]);else{var u=i.parse(a),l="https:"==u.protocol?r:n,c={hostname:u.hostname,path:u.path,query:u.query,headers:{Accept:"application/json","User-Agent":"Prismic-javascript-kit/"+s.version+" NodeJS/"+process.version}};l.get(c,function(n){if(n.statusCode&&200==n.statusCode){var r="";n.setEncoding("utf8"),n.on("data",function(t){r+=t}),n.on("end",function(){var i=n.headers["cache-control"],s=i&&/max-age=(\d+)/.test(i)?parseInt(/max-age=(\d+)/.exec(i)[1]):e,u=JSON.parse(r);s&&(t[a]=u),o(null,u,n)})}else o(new Error("Unexpected status code ["+n.statusCode+"] on URL "+a),null,n)})}}}};c.fn=c.prototype={AT:"at",ANY:"any",SIMILAR:"similar",FULLTEXT:"fulltext",NUMBER:{GT:"number.gt",LT:"number.lt"},DATE:{AFTER:"date.after",BEFORE:"date.before",BETWEEN:"date.between"},DOCUMENT:{ID:"document.id",TYPE:"document.type",TAGS:"document.tags"},constructor:c,data:null,get:function(t){var e=this,n=this.url+(this.accessToken?"#"+this.accessToken:"");this.apiCache.getOrSet(n,5,function(t){e.requestHandler(e.url,function(n,r,i){n?t&&t(n,null,i):t&&t(null,e.parse(r),i)})},function(n,r,i){n?t&&t(n,null,i):(e.data=r,e.bookmarks=r.bookmarks,t&&t(null,e,i))})},parse:function(t){var e,r,i,s,a,o,l,c={};for(l in t.forms)t.forms.hasOwnProperty(l)&&(o=t.forms[l],this.accessToken&&(o.fields.access_token={},o.fields.access_token.type="string",o.fields.access_token.default=this.accessToken),i=new n(o.name,o.fields,o.form_method,o.rel,o.enctype,o.action),c[l]=i);if(e=t.refs.map(function(t){return new u(t.ref,t.label,t.isMasterRef,t.scheduledAt,t.id)})||[],r=e.filter(function(t){return t.isMaster===!0}),s=t.types,a=t.tags,0===r.length)throw"No master ref.";return{bookmarks:t.bookmarks||{},refs:e,forms:c,master:r[0],types:s,tags:a,oauthInitiate:t.oauth_initiate,oauthToken:t.oauth_token}},init:function(t,e,n,r){return this.url=t+(e?(t.indexOf("?")>-1?"&":"?")+"access_token="+e:""),this.accessToken=e,this.requestHandler=n||f()||h()||p()||function(){throw new Error("No request handler available (tried XMLHttpRequest & NodeJS)")}(),this.apiCache=r||new l,this},forms:function(t){return this.form(t)},form:function(t){var e=this.data.forms[t];return e?new r(this,e,{}):void 0},master:function(){return this.data.master.ref},ref:function(t){for(var e=0;e<this.data.refs.length;e++)if(this.data.refs[e].label==t)return this.data.refs[e].ref}},c.fn.init.prototype=c.fn,n.prototype={},r.prototype={set:function(t,n){var r=this.form.fields[t];if(!r)throw new Error("Unknown field "+t);var i=this.data[t]||[];return(""===n||n===e)&&(n=null),r.multiple?null!=n&&i.push(n):i=null!=n&&[n],this.data[t]=i,this},ref:function(t){return this.set("ref",t)},query:function(t){if("string"==typeof t)return this.set("q",t);var e=[].slice.apply(arguments),n=[];return e.forEach(function(t){var e=0==t[1].indexOf("my.")||0==t[1].indexOf("document.")?t[1]:'"'+t[1]+'"';n.push("[:d = "+t[0]+"("+e+", "+function(){return t.slice(2).map(function(t){return"string"==typeof t?'"'+t+'"':Array.isArray(t)?"["+t.map(function(t){return'"'+t+'"'}).join(",")+"]":t instanceof Date?d.getTime():t}).join(",")}()+")]")}),this.query("["+n.join("")+"]")},pageSize:function(t){return this.set("pageSize",t)},page:function(t){return this.set("page",t)},orderings:function(t){return this.set("orderings",t)},submit:function(t){var e=this.form.action;if(this.data){var n=e.indexOf("?")>-1?"&":"?";for(var r in this.data){var i=this.data[r];if(i)for(var u=0;u<i.length;u++)e+=n+r+"="+encodeURIComponent(i[u]),n="&"}}this.api.requestHandler(e,function(e,n,r){if(e)return void t(e,null,r);var i=n.results.map(function(t){var e=[];t.linked_documents&&(e=t.linked_documents.map(function(t){return new a(t.id,t.slug,t.type,t.tags)}));var n={};for(var r in t.data[t.type])n[t.type+"."+r]=t.data[t.type][r];return new o(t.id,t.type,t.href,t.tags,t.slugs,e,n)});t(null,new s(n.page,n.results_per_page,n.results_size,n.total_results_size,n.total_pages,n.next_page,n.prev_page,i||[]),r)})}},o.prototype={get:function(e){var n=i.call(this,e);return n.length?t.Prismic.Fragments.initField(n[0]):null},getAll:function(e){return i.call(this,e).map(function(e){return t.Prismic.Fragments.initField(e)},this)},getImage:function(e){var n=this.get(e);return n instanceof t.Prismic.Fragments.Image?n:n instanceof t.Prismic.Fragments.StructuredText?n:null},getAllImages:function(e){var n=this.getAll(e);return n.map(function(e){if(e instanceof t.Prismic.Fragments.Image)return e;if(e instanceof t.Prismic.Fragments.StructuredText)throw new Error("Not done.");return null})},getImageView:function(e,n){var r=this.get(e);if(r instanceof t.Prismic.Fragments.Image)return r.getView(n);if(r instanceof t.Prismic.Fragments.StructuredText)for(var i=0;i<r.blocks.length;i++)if("image"==r.blocks[i].type)return r.blocks[i];return null},getAllImageViews:function(t,e){return this.getAllImages(t).map(function(t){return t.getView(e)})},getDate:function(e){var n=this.get(e);return n instanceof t.Prismic.Fragments.Date?n.value:void 0},getBoolean:function(t){var e=this.get(t);return e.value&&("yes"==e.value.toLowerCase()||"on"==e.value.toLowerCase()||"true"==e.value.toLowerCase())},getText:function(e,n){var r=this.get(e);return r instanceof t.Prismic.Fragments.StructuredText?r.blocks.map(function(t){return t.text?t.text+(n?n:""):void 0}).join("\n"):r instanceof t.Prismic.Fragments.Text&&r.value?r.value+(n?n:""):r instanceof t.Prismic.Fragments.Number&&r.value?r.value+(n?n:""):r instanceof t.Prismic.Fragments.Select&&r.value?r.value+(n?n:""):r instanceof t.Prismic.Fragments.Color&&r.value?r.value+(n?n:""):void 0},getStructuredText:function(e){var n=this.get(e);return n instanceof t.Prismic.Fragments.StructuredText?n:void 0},getNumber:function(e){var n=this.get(e);return n instanceof t.Prismic.Fragments.Number?n.value:void 0},getColor:function(e){var n=this.get(e);return n instanceof t.Prismic.Fragments.Color?n.value:void 0},getGeoPoint:function(e){var n=this.get(e);return n instanceof t.Prismic.Fragments.GeoPoint?n:void 0},getGroup:function(e){var n=this.get(e);return n instanceof t.Prismic.Fragments.Group?n:void 0},getHtml:function(t,e){var n=this.get(t);return n&&n.asHtml?n.asHtml(e):void 0},asHtml:function(t){var e=[];for(var n in this.fragments){var r=this.get(n);e.push(r&&r.asHtml?'<section data-field="'+n+'">'+r.asHtml(t)+"</section>":"")}return e.join("")},asText:function(t){var e=[];for(var n in this.fragments){var r=this.get(n);e.push(r&&r.asText?r.asText(t):"")}return e.join("")}},u.prototype={},l.prototype={get:function(t){var e=this.cache[t];return e&&(!this.isExpired(t)||this.isExpired(t)&&this.isInProgress(t))?e.data:null},set:function(t,e,n){this.cache[t]={data:e,expiredIn:n?Date.now()+1e3*n:0}},getOrSet:function(t,e,n,r){var i=this.get(t),s=this;if(i)r&&r(null,i);else{this.states[t]="progress";{n(function(n,i,a){s.set(t,i,e),delete s.states[t],r&&r(n,i,a)})}}},isExpired:function(t){var e=this.cache[t];return e?0!=e.expiredIn&&e.expiredIn<Date.now():!1},isInProgress:function(t){return"progress"==this.states[t]},exists:function(t){return!!this.cache[t]},remove:function(t){return delete this.cache[t]},clear:function(){this.cache={}}},t.Prismic={Api:c}}("object"==typeof exports&&exports?exports:"object"==typeof module&&module&&"object"==typeof module.exports?module.exports:window),function(t){"use strict";function e(t){this.value=t}function n(t){this.value=t,this.document=t.document,this.isBroken=t.isBroken}function r(t){this.value=t}function i(t){this.value=t}function s(t){this.value=t}function a(t){this.value=t}function o(t){this.value=t}function u(t,e){this.latitude=t,this.longitude=e}function l(t){this.value=t}function c(t){this.value=new Date(t)}function f(t){var e=24==t.length?t.substring(0,22)+":"+t.substring(22,24):t;this.value=new Date(e)}function h(t){this.value=t}function p(t,e){this.main=t,this.views=e||{}}function d(t,e,n,r){this.url=t,this.width=e,this.height=n,this.alt=r}function m(t){this.value=t}function g(t){this.blocks=t}function v(t){return t&&t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y(t,e,n,r){if(!e||!e.length)return v(t);var i={},s={};e.forEach(function(t){i[t.start]||(i[t.start]=[]),s[t.end]||(s[t.end]=[]),i[t.start].push(t),s[t.end].unshift(t)});for(var a,o="",u=[],l=0,c=t.length+1;c>l;l++)s[l]&&s[l].forEach(function(){var t=u.pop(),e=w(t.span,t.text,r);0==u.length?o+=e:u[u.length-1].text+=e}),i[l]&&(i[l].sort(function(t,e){return e.end-e.start-(t.end-t.start)}),i[l].forEach(function(t){var e=null;if("hyperlink"==t.type){var r=b(t.data);if(!r)return console&&console.error&&console.error("Impossible to convert span.data as a Fragment",t),"";e=r.url(n),t.url=e}var i={span:t,text:""};u.push(i)})),l<t.length&&(a=t[l],0==u.length?o+=v(a):u[u.length-1].text+=v(a));return o}function b(t){var v,y;switch(t.type){case"Color":v=new o(t.value);break;case"Number":v=new l(t.value);break;case"Date":v=new c(t.value);break;case"Timestamp":v=new f(t.value);break;case"Text":v=new e(t.value);break;case"Embed":v=new h(t.value);break;case"GeoPoint":v=new u(t.value.latitude,t.value.longitude);break;case"Select":v=new a(t.value);break;case"Image":y=t.value.main,v=new p(new d(y.url,y.dimensions.width,y.dimensions.height,y.alt),{});for(var k in t.value.views)y=t.value.views[k],v.views[k]=new d(y.url,y.dimensions.width,y.dimensions.height,y.alt);break;case"StructuredText":v=new g(t.value);break;case"Link.document":v=new n(t.value);break;case"Link.web":v=new r(t.value);break;case"Link.file":v=new i(t.value);break;case"Link.image":v=new s(t.value);break;case"Group":for(var w=[],x=0;x<t.value.length;x++){var T={};for(var P in t.value[x])T[P]=b(t.value[x][P]);w.push(T)}v=new m(w);break;default:console&&console.log&&console.log("Fragment type not supported: ",t.type)}return v}function k(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function w(t,e,n){if(n){var r=n(t,e);if(r)return r}var i={heading1:"h1",heading2:"h2",heading3:"h3",heading4:"h4",heading5:"h5",heading6:"h6",paragraph:"p",preformatted:"pre","list-item":"li","o-list-item":"li","group-list-item":"ul","group-o-list-item":"ol",strong:"strong",em:"em"};if(i[t.type]){var s=i[t.type],a=t.label?' class="'+t.label+'"':"";return"<"+s+a+">"+e+"</"+s+">"}if("image"==t.type){var o=t.label?" "+t.label:"",u='<img src="'+t.url+'" alt="'+t.alt+'">';return'<p class="block-img'+o+'">'+(t.linkUrl?'<a href="'+t.linkUrl+'">'+u+"</a>":u)+"</p>"}return"embed"==t.type?'<div data-oembed="'+t.embed_url+'" data-oembed-type="'+t.type+'" data-oembed-provider="'+t.provider_name+(t.label?'" class="'+o:"")+'">'+t.oembed.html+"</div>":"hyperlink"===t.type?'<a href="'+t.url+'">'+e+"</a>":"label"===t.type?'<span class="'+t.data.label+'">'+e+"</span>":"<!-- Warning: "+t.type+" not implemented. Upgrade the Developer Kit. -->"+e}e.prototype={asHtml:function(){return"<span>"+this.value+"</span>"},asText:function(){return this.value}},n.prototype={asHtml:function(t){return'<a href="'+this.url(t)+'">'+this.url(t)+"</a>"},url:function(t){return t(this.document,this.isBroken)},asText:function(t){return this.url(t)}},r.prototype={asHtml:function(){return'<a href="'+this.url()+'">'+this.url()+"</a>"},url:function(){return this.value.url},asText:function(){return this.url()}},i.prototype={asHtml:function(){return'<a href="'+this.url()+'">'+this.value.file.name+"</a>"},url:function(){return this.value.file.url},asText:function(){return this.url()}},s.prototype={asHtml:function(){return'<a href="'+this.url()+'"><img src="'+this.url()+'" alt="'+this.alt+'"></a>'},url:function(){return this.value.image.url},asText:function(){return this.url()}},a.prototype={asHtml:function(){return"<span>"+this.value+"</span>"},asText:function(){return this.value}},o.prototype={asHtml:function(){return"<span>"+this.value+"</span>"},asText:function(){return this.value}},u.prototype={asHtml:function(){return'<div class="geopoint"><span class="latitude">'+this.latitude+'</span><span class="longitude">'+this.longitude+"</span></div>"},asText:function(){return"("+this.latitude+","+this.longitude+")"}},l.prototype={asHtml:function(){return"<span>"+this.value+"</span>"},asText:function(){return this.value.toString()}},c.prototype={asHtml:function(){return"<time>"+this.value+"</time>"},asText:function(){return this.value.toString()}},f.prototype={asHtml:function(){return"<time>"+this.value+"</time>"},asText:function(){return this.value.toString()}},h.prototype={asHtml:function(){return this.value.oembed.html},asText:function(){return""}},p.prototype={getView:function(t){return"main"===t?this.main:this.views[t]},asHtml:function(){return this.main.asHtml()},asText:function(){return""}},d.prototype={ratio:function(){return this.width/this.height},asHtml:function(){return"<img src="+this.url+" width="+this.width+" height="+this.height+' alt="'+this.alt+'">'},asText:function(){return""}},m.prototype={asHtml:function(t){for(var e="",n=0;n<this.value.length;n++)for(var r in this.value[n])e+='<section data-field="'+r+'">',e+=this.value[n][r].asHtml(t),e+="</section>";return e},toArray:function(){return this.value},asText:function(t){for(var e="",n=0;n<this.value.length;n++)for(var r in this.value[n])e+=this.value[n][r].asText(t);return e}},g.prototype={getTitle:function(){for(var t=0;t<this.blocks.length;t++){var e=this.blocks[t];if(0==e.type.indexOf("heading"))return e}},getFirstParagraph:function(){for(var t=0;t<this.blocks.length;t++){var e=this.blocks[t];if("paragraph"==e.type)return e}},getParagraphs:function(){for(var t=[],e=0;e<this.blocks.length;e++){var n=this.blocks[e];"paragraph"==n.type&&t.push(n)}return t},getParagraph:function(t){return this.getParagraphs()[t]},getFirstImage:function(){for(var t=0;t<this.blocks.length;t++){var e=this.blocks[t];if("image"==e.type)return new d(e.url,e.dimensions.width,e.dimensions.height,e.alt)}},asHtml:function(t,e){var n,r,i=[],s=[];if(!k(t)){var a=t;t=function(t,e){return a.linkResolver(a,t,e)}}if(Array.isArray(this.blocks)){for(var o=0;o<this.blocks.length;o++){if(r=this.blocks[o],"image"==r.type&&r.linkTo){var u=b(r.linkTo);r.linkUrl=u.url(t)}"list-item"!==r.type&&"o-list-item"!==r.type?(i.push(r),n=null):n&&n.type=="group-"+r.type?n.blocks.push(r):(n={type:"group-"+r.type,blocks:[r]},i.push(n))}var l=function(n){var r="";return n.blocks?n.blocks.forEach(function(t){r+=w(t,l(t),e)}):r=y(n.text,n.spans,t,e),r};i.forEach(function(t){s.push(w(t,l(t),e))})}return s.join("")},asText:function(){for(var t=[],e=0;e<this.blocks.length;e++){var n=this.blocks[e];n.text&&t.push(n.text)}return t.join(" ")}},t.Prismic.Fragments={Image:p,ImageView:d,Text:e,Number:l,Date:c,Timestamp:f,Select:a,Color:o,StructuredText:g,WebLink:r,DocumentLink:n,ImageLink:s,FileLink:i,Group:m,GeoPoint:u,initField:b,insertSpans:y}}("object"==typeof exports&&exports?exports:"object"==typeof module&&module&&"object"==typeof module.exports?module.exports:window),function(t){"use strict";var e={at:function(t,e){return["at",t,e]},any:function(t,e){return["any",t,e]},fulltext:function(t,e){return["fulltext",t,e]},similar:function(t,e){return["similar",t,e]},gt:function(t,e){return["number.gt",t,e]},lt:function(t,e){return["number.lt",t,e]},inRange:function(t,e,n){return["number.inRange",t,e,n]},dateBefore:function(t,e){return["date.before",t,e]},dateAfter:function(t,e){return["date.after",t,e]},dateBetween:function(t,e,n){return["date.between",t,e,n]},dayOfMonth:function(t,e){return["date.day-of-month",t,e]},dayOfMonthAfter:function(t,e){return["date.day-of-month-after",t,e]},dayOfMonthBefore:function(t,e){return["date.day-of-month-before",t,e]},dayOfWeek:function(t,e){return["date.day-of-week",t,e]},dayOfWeekAfter:function(t,e){return["date.day-of-week-after",t,e]},dayOfWeekBefore:function(t,e){return["date.day-of-week-before",t,e]},month:function(t,e){return["date.month",t,e]},monthBefore:function(t,e){return["date.month-before",t,e]},monthAfter:function(t,e){return["date.month-after",t,e]},year:function(t,e){return["date.year",t,e]},hour:function(t,e){return["date.hour",t,e]},hourBefore:function(t,e){return["date.hour-before",t,e]},hourAfter:function(t,e){return["date.hour-after",t,e]},near:function(t,e,n){return["near",t,e,n]}};t.Prismic.Predicates=e}("object"==typeof exports&&exports?exports:"object"==typeof module&&module&&"object"==typeof module.exports?module.exports:window);